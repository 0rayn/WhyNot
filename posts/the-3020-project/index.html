<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 3020 Project: a TL-MR3020 Hacking continuation | WhyNot</title>
<link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="https://0rayn.github.io/WhyNot/posts/the-3020-project/">
  <meta property="og:site_name" content="WhyNot">
  <meta property="og:title" content="The 3020 Project: a TL-MR3020 Hacking continuation">
  <meta property="og:description" content="I - Beyond the Basics: In My Last Post, we covered the essentials: flashing OpenWrt, setting up serial access, and using a USB drive to give the TL-MR3020 some actual storage breathing room . We successfully turned a travel router into a functional, headless Linux server.
But let’s be honest… a headless server is boring.
I didn’t just want a box that blinks in the corner. I wanted a computer. I wanted a display, I wanted to type, and I wanted to interact with the physical world. The problem? The TL-MR3020 has no video output, no sound, and extremely limited GPIO.">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2026-01-13T16:28:07+01:00">
    <meta property="article:modified_time" content="2026-01-13T16:28:07+01:00">
    <meta property="article:tag" content="TL-MR3020">
    <meta property="article:tag" content="HadrwareHacking">
    <meta property="article:tag" content="DIY">
    <meta property="article:tag" content="EmbeddedSytems">
    <meta property="article:tag" content="Cyberdeck">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="The 3020 Project: a TL-MR3020 Hacking continuation">
  <meta name="twitter:description" content="I - Beyond the Basics: In My Last Post, we covered the essentials: flashing OpenWrt, setting up serial access, and using a USB drive to give the TL-MR3020 some actual storage breathing room . We successfully turned a travel router into a functional, headless Linux server.
But let’s be honest… a headless server is boring.
I didn’t just want a box that blinks in the corner. I wanted a computer. I wanted a display, I wanted to type, and I wanted to interact with the physical world. The problem? The TL-MR3020 has no video output, no sound, and extremely limited GPIO.">

      <link rel="stylesheet" href="/WhyNot/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css" integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H&#43;ZeT/jBpieRZ8=" crossorigin="anonymous">
      <link rel="stylesheet" href="/WhyNot/css/bundle.min.d95a325399a05b50fe47dcf35b8229b8a2a014fcee5435cfb28204c6ac335fc5.css" integrity="sha256-2VoyU5mgW1D&#43;R9zzW4IpuKKgFPzuVDXPsoIExqwzX8U=" crossorigin="anonymous">

      <script src="/WhyNot/js/bundle.995e4ec99401021e081ec256bee66154ef7f4e5136809432513b2e6d014b4b1d.js" integrity="sha256-mV5OyZQBAh4IHsJWvuZhVO9/TlE2gJQyUTsubQFLSx0=" crossorigin="anonymous"></script><script defer src="/WhyNot/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/WhyNot/js/search/search.8f530dd8babcb14f15ab7c8981ac96efc4b306094613be2dfff27d77e3557652.js" integrity="sha256-j1MN2Lq8sU8Vq3yJgayW78SzBglGE74t//J9d&#43;NVdlI="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="https://0rayn.github.io/WhyNot/" style="color: inherit;">WhyNot</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/WhyNot/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a
      >Features</a>
    </div>
    <div class="nav-item">
      <a
      >About</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/WhyNot/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a
      >Features</a>
    </div>
    <div class="nav-item">
      <a
      >About</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/WhyNot/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/WhyNot/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>The 3020 Project: a TL-MR3020 Hacking continuation</h1><time class="dim" datetime="2026-01-13T16:28:07&#43;01:00">January 13, 2026</time><div class="term-container"><div class="tag">
        <a href="/WhyNot/tags/tl-mr3020/">#TL-MR3020</a>
      </div><div class="tag">
        <a href="/WhyNot/tags/hadrwarehacking/">#HadrwareHacking</a>
      </div><div class="tag">
        <a href="/WhyNot/tags/diy/">#DIY</a>
      </div><div class="tag">
        <a href="/WhyNot/tags/embeddedsytems/">#EmbeddedSytems</a>
      </div><div class="tag">
        <a href="/WhyNot/tags/cyberdeck/">#Cyberdeck</a>
      </div></ol></div>
  <section class="page-section"><h2 id="i---beyond-the-basics">I - Beyond the Basics:</h2>
<p>In My <a href="/WhyNot/posts/tl-mr3020-hacking/">Last Post</a>, we covered the essentials: flashing OpenWrt, setting up serial access, and using a USB drive to give the TL-MR3020 some actual storage breathing room . We successfully turned a travel router into a functional, headless Linux server.</p>
<p>But let’s be honest… a <strong>headless server is boring</strong>.</p>
<p>I didn&rsquo;t just want a box that blinks in the corner. I wanted a computer. I wanted a display, I wanted to type, and I wanted to interact with the physical world. The problem? The TL-MR3020 has no video output, no sound, and extremely limited GPIO.</p>
<p>So, I decided to build a <em><strong>distributed system</strong></em> where the router acts as the central controller, orchestrating a network of specialized devices to overcome its own hardware limitations.</p>
<p><img src="/WhyNot/images/3020-project/theplan.jpg" alt="The plan"></p>
<h2 id="ii---the-architecture">II - The Architecture:</h2>
<p>Instead of forcing the router to do tasks it wasn&rsquo;t designed for (like generating video signals), I built a system where every component has a specific job. The architecture transforms the router into a central hub connecting three distinct modules :</p>
<p><strong>1- The Core (TL-MR3020):</strong> Runs the OS (OpenWrt) and manages the system logic.<br>
<strong>2- The Graphics (ESP32):</strong> Drives a VGA monitor via a TCP/IP connection.<br>
<strong>3- The I/O controller (Arduino Nano):</strong> Handles physical sensors and actuators, while communicating with the Tl-MR3020 via serial.<br>
<strong>4- The input (USB Keyboard):</strong> Provides the user interface.</p>
<p><img src="/WhyNot/images/3020-project/architecture.jpg" alt="architecture"></p>
<h3 id="iii---the-graphics-card-esp32--vga">III - The &ldquo;Graphics Card&rdquo;: ESP32 &amp; VGA</h3>
<p>This was the biggest technical hurdle. Generating a VGA signal requires precise, microsecond-timing that a Linux router simply cannot handle without crashing or freezing.</p>
<p>The solution? <strong>Outsource the rendering.</strong>
I used an ESP32 running a custom firmware I wrote called <strong>ESP-VGA-Displayer</strong>. It acts as a dedicated GPU that listens for commands over the network.</p>
<p><strong>The Protocol:</strong>
The ESP32 opens a TCP server on <strong>port 1337</strong> (naturally). The router—or any device on the network—can send simple newline-terminated text commands to control the screen.</p>
<p>It’s incredibly simple to use. I can even test it manually using <code>netcat</code> from my laptop:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc &lt;ESP_IP&gt; <span style="color:#ae81ff">1337</span>
</span></span><span style="display:flex;"><span>/clear
</span></span><span style="display:flex;"><span>/color red
</span></span><span style="display:flex;"><span>/print System Failure!
</span></span></code></pre></div><p><strong>Under the Hood:</strong>
For the actual rendering, I used the <strong><code>ESP32Lib</code></strong> library by <strong>bitluni</strong>.
Thanks to my background developing a <strong>32-bit Kernel</strong>, I was already familiar with how VGA signal generation works, which made bitluni&rsquo;s library very intuitive to implement. It handles the heavy lifting of signal timing, while my code handles the TCP command parsing and text layout.</p>
<p><strong>Supported Commands:</strong></p>
<ul>
<li><code>/clear</code> – Wipes the screen.</li>
<li><code>/print [text]</code> – Displays text on the monitor.</li>
<li><code>/color [name]</code> – Changes text color (supports black, blue, green, red, etc.).</li>
</ul>
<p>This architecture means the router doesn&rsquo;t need to know <em>how</em> to draw pixels—it just sends text strings like &ldquo;Hello World&rdquo; and the ESP32 handles the rest.</p>
<p><img src="/WhyNot/images/3020-project/graphics.jpg" alt="Graphics"></p>
<h3 id="iv---the-io-expansion-arduino-nano">IV - The I/O Expansion: Arduino Nano</h3>
<p>Routers are great at networking, but terrible at interacting with hardware sensors. They simply lack the exposed pins.</p>
<p>To fix this, I integrated an <strong>Arduino Nano</strong> running my custom <strong>3020-NANO</strong> firmware. It connects to the router via Serial (9600 baud) and listens for simple text commands. This effectively gives the router full GPIO control.</p>
<p><strong>The Protocol:</strong>
I designed a human-readable protocol so I can test it manually or script it easily.</p>
<ul>
<li><strong>Basic I/O:</strong> <code>pinmode 13 output</code>, <code>write 13 high</code>, <code>read 13</code>.</li>
<li><strong>LCD Control:</strong> It even supports I²C LCD screens.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>exec lcd init 0x27 <span style="color:#ae81ff">16</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>exec lcd write Hello World
</span></span></code></pre></div><p>Now, if I want the router to display a status message or blink an alert LED, it just sends a string to the Nano, and the Nano executes the hardware operation.</p>
<p><img src="/WhyNot/images/3020-project/board.jpg" alt="to a raspberry path"></p>
<h3 id="v---the-interface-keyboard-integration">V - The Interface: Keyboard Integration:</h3>
<p>A computer isn&rsquo;t complete without input, so I wanted to plug a standard USB keyboard into the router. But before I could write a single line of code, I hit a wall: <strong>Storage Space.</strong></p>
<p>The TL-MR3020 has extremely limited internal flash memory. To make room for the USB HID (Human Interface Device) drivers needed for the keyboard, I had to rebuild my custom OpenWrt image <em>again</em>. I made the tough call to strip out the USB storage expansion utilities I used in the previous step to free up space for the keyboard drivers.</p>
<p>Once the OS could finally recognize the device, I wrote <strong>3020-Keyboard</strong>, a C program that acts as the software glue between the hardware input and the network display.</p>
<ul>
<li><strong>The Input:</strong> It reads raw keystrokes directly from the Linux event subsystem (<code>/dev/input/event0</code>).</li>
<li><strong>The Output:</strong> It splits the signal in two directions:</li>
</ul>
<ol>
<li><strong>To the Display:</strong> It connects to the ESP32 via TCP and automatically wraps text in the <code>/print</code> command, so what I type appears instantly on the VGA screen.</li>
<li><strong>To the Hardware:</strong> It forwards commands to the Nano via the router&rsquo;s internal serial port (<code>/dev/ttyATH0</code>).</li>
</ol>
<p>This setup allows for live text mirroring and creates a genuine terminal experience using nothing but e-waste components.</p>
<p><img src="/WhyNot/images/3020-project/keyboard.jpg" alt="keyboard"></p>
<h2 id="vi---the-result-taraaaa-">VI - The Result: taraaaa !</h2>
<p>After linking all the components and writing the software needed for them to function together, the system finally came to life .</p>
<p>It is no longer just a router. It is a live terminal and IoT Hub. I can type commands on a mechanical keyboard, see the output on a VGA monitor, and control physical hardware—all coordinated by that tiny white box we started with .</p>
<p><img src="/WhyNot/images/3020-project/result.png" alt="The result"></p>
<h3 id="vii---the-future">VII - The Future</h3>
<p>The hardware is done. The drivers are written. Now comes the fun part: <strong>giving it a purpose</strong>.</p>
<p>Whether it&rsquo;s a smart home dashboard, a dedicated network traffic monitor, or a text-based adventure machine, the foundation is ready. This project proves that you don&rsquo;t need the latest hardware to build something amazing—just a bit of creativity and the willingness to void a warranty&hellip; <strong>not like it got any warranty anyway hhhhhhhhhh</strong></p>
<ul>
<li><strong>Check out the code:</strong> <a href="https://github.com/3020-PROJECT">The 3020 Project GitHub</a></li>
</ul>
<p><img src="/WhyNot/images/3020-project/endless.jpg" alt="possibilities are endless"></p>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2026 Taha Ed-dafili</div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>956 words</span>
    <span>5 - 7 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#i---beyond-the-basics">I - Beyond the Basics:</a></li>
    <li><a href="#ii---the-architecture">II - The Architecture:</a>
      <ul>
        <li><a href="#iii---the-graphics-card-esp32--vga">III - The &ldquo;Graphics Card&rdquo;: ESP32 &amp; VGA</a></li>
        <li><a href="#iv---the-io-expansion-arduino-nano">IV - The I/O Expansion: Arduino Nano</a></li>
        <li><a href="#v---the-interface-keyboard-integration">V - The Interface: Keyboard Integration:</a></li>
      </ul>
    </li>
    <li><a href="#vi---the-result-taraaaa-">VI - The Result: taraaaa !</a>
      <ul>
        <li><a href="#vii---the-future">VII - The Future</a></li>
      </ul>
    </li>
  </ul>
</nav><h3>Related</h3>
    <ul><li><a href="/WhyNot/posts/tl-mr3020-hacking/">TL-MR3020 Hacking</a></li><li><a href="/WhyNot/posts/the-wnh-initiative/">The WNH Initiative: Idea &amp; Vision</a></li></ul></aside></div>
  </div>
</body>
</html>
